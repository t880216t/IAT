(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{"q/5J":function(e,t,a){"use strict";var n=a("FfR7"),l=a("Dthn");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("nLo3");var u=n(a("HJwI"));a("8RE4");var d=n(a("nLrJ"));a("RGWf");var r=n(a("AjQT")),s=n(a("An8i"));a("szny");var i=n(a("2tKr"));a("hkEy");var c=n(a("gVls"));a("MsrB");var f=n(a("Dvc3")),o=n(a("b4l6")),m=n(a("0wiU")),p=n(a("SnMR")),h=n(a("GZrC")),k=n(a("nH91"));a("Qg1i");var y,v,E,g=n(a("+45M")),T=l(a("rdAL")),L=a("LneV"),C=n(a("uo9F")),q=n(a("zHco")),w=n(a("oQmc")),H=(g.default.Option,y=(0,L.connect)(function(e){var t=e.system,a=e.task,n=e.loading;return{system:t,task:a,loading:n.effects["task/queryTaskList"]}}),y((E=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,p.default)(this,(e=(0,h.default)(t)).call.apply(e,[this].concat(l))),a.state={taskList:[]},a.queryTaskList=function(){var e=a.props.dispatch;e({type:"task/queryTaskList",payload:{taskType:2}}).then(function(){var e=a.props.task;a.setState({taskList:e.taskList})})},a.handleAddTask=function(){var e=a.props.dispatch;e({type:"task/goTimAddPage"})},a.handleStateChange=function(e,t){e?a.handleRunTask(t):a.querySetTaskStatus(t,4)},a.handleRunTask=function(e){var t=a.props.dispatch;t({type:"task/queryTaskExcute",payload:{id:e}}).then(function(){a.queryTaskList()})},a.handleTimeChange=function(e,t){var n=(0,C.default)(t).format("HH:mm"),l=a.props.dispatch;l({type:"task/queryUpdateRunTime",payload:{id:e,runTime:n}}).then(function(){a.queryTaskList()})},a.querySetTaskStatus=function(e,t){var n=a.props.dispatch;n({type:"task/querySetTaskStatus",payload:{id:e,status:t}}).then(function(){a.queryTaskList()})},a}return(0,k.default)(t,e),(0,m.default)(t,[{key:"componentWillMount",value:function(){this.queryTaskList()}},{key:"render",value:function(){var e=this,t=this.props.loading,a=T.default.createElement("div",{className:w.default.pageHeaderContent},T.default.createElement("p",null,"\u529f\u80fd\u7b80\u4ecb\uff1a\u6bcf\u65e5\u4efb\u52a1\u5b9a\u65f6\u6267\u884c\uff0c \u5e76\u90ae\u4ef6\u901a\u77e5\uff0c\u82e5\u8981\u4fee\u6539\u8bf7\u5148\u5173\u95ed\u4efb\u52a1\u3002")),n=function(t){return T.default.createElement("div",{className:w.default.descriptionContainer},T.default.createElement("div",{className:w.default.item_container},T.default.createElement("span",null,"\u6267\u884c\u65f6\u95f4\uff1a"),T.default.createElement(f.default,{format:"HH:mm",size:"small",value:(0,C.default)(t.runTime,"HH:mm"),style:{margin:"8px 0"},onChange:function(a){return e.handleTimeChange(t.id,a)}})),T.default.createElement("div",{className:w.default.item_container},T.default.createElement("span",null,"\u4efb\u52a1\u63cf\u8ff0\uff1a"),T.default.createElement("div",null,t.taskDesc)),3===t.status&&T.default.createElement("div",{className:w.default.reportHref},T.default.createElement("a",{style:{color:"#40a9ff",fontWeight:"bold"},href:"#/task/timing/report?".concat(t.id)},"\u67e5\u770b\u62a5\u544a ",T.default.createElement(c.default,{type:"right"}))))},l=function(t){return T.default.createElement("div",{className:w.default.switchContainer},T.default.createElement("a",{href:"#/task/timing/detail?".concat(t.id),style:{color:"#40a9ff",fontWeight:"bold"}},t.name),T.default.createElement("div",{className:w.default.switchButton},T.default.createElement(i.default,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",checked:!(0===t.status||4===t.status),onChange:function(a){return e.handleStateChange(a,t.id)}})))};return T.default.createElement(q.default,{title:"\u6bcf\u65e5\u4efb\u52a1\u5217\u8868",content:a},T.default.createElement("div",{className:w.default.cardList},T.default.createElement(d.default,{loading:t,rowKey:"id",grid:{gutter:24,lg:3,md:2,sm:1,xs:1},dataSource:[].concat((0,s.default)(this.state.taskList),[""]),renderItem:function(t){return t?T.default.createElement(d.default.Item,{key:t.id},T.default.createElement(r.default,{hoverable:!0,className:w.default.card},T.default.createElement(r.default.Meta,{title:l(t),description:n(t)}))):T.default.createElement(d.default.Item,null,T.default.createElement(u.default,{type:"dashed",className:w.default.newButton,onClick:function(){return e.handleAddTask()}},T.default.createElement(c.default,{type:"plus"})," \u65b0\u589e\u4efb\u52a1"))}})))}}]),t}(T.PureComponent),v=E))||v),S=H;t.default=S}}]);